\newpage
\begin{samepage}
    \subsection{Appendix 3 - Product Testing Plan}
    \subsubsection{Common Scenarios Tests}
    % ---------------------------- Test 1 --------------------------------
    \subsection*{1. Valid PIN Entry Test}
    \subparagraph{Test Goals and Purpose}
    \begin{itemize}
        \item Verify that a recognized 4-digit PIN unlocks the door without unnecessary delay.
        \item Check that the system logs this event as a successful access in Postgres.
    \end{itemize}
    \subparagraph{How We Test It}
    \begin{enumerate}
        \item Select a PIN known to be valid from the internal list.
        \item Enter the PIN once on the keypad.
        \item Observe the system's response, checking for physical bolt movement and UI changes on the mobile application.
        \item Look for updates to the (\texttt{LOCK\_STATE}) value in Postgres.
    \end{enumerate}
    
    \textbf{Expectations of Test}
    \begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      PASS & Bolt retracts within \textless{}0.5\,s; \texttt{LOCK\_STATE}=1; Postgres log entry \emph{success}. \\
      \hline
      FAIL & Any deviation from the above timing, state, or logging behaviour. \\
      \hline
    \end{tabular}
    \end{center}
\end{samepage}


% ---------------------------- Test 2 --------------------------------
\newpage
\subsection*{2. Invalid PIN Lockout Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure the system prevents further PIN attempts after multiple consecutive failures.
    \item Lock should be shut down for a short expiration period.
    \item Confirm some form of lockout indication is presented, such as a light or warning beep.
    \item Owner's phoone should receive an alert about the failed attempts.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Enter three clearly incorrect PINs in under 30 seconds.
    \item Observe for a visible or audible signal.
    \item Confirm that \texttt{LOCKOUT\_COUNT} has risen and \texttt{LOCK\_STATE} is still 0 (locked).
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Keypad flashes red and/or beeps immediately after the \textbf{third} wrong entry.
      \item No further PINs are accepted for the lockout period (default: 60 s).
      \item Mobile app log shows “3 invalid PIN attempts – lock is temporarily disabled” within 5 s.
      \item Postgres records \texttt{LOCKOUT\_COUNT = 3} and \texttt{LOCK\_STATE = 0}.\\
    \end{itemize}
    \end{minipage} \\ 
  \hline
  \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\ 
  \hline
\end{tabular}
\end{center}
\vspace{0.5em}

\noindent\textbf{Reset after the test:}  
Either wait for the lockout timer to expire or enter an admin PIN to clear the lockout so the next test starts from a clean state.\\


% ---------------------------- Test 3 --------------------------------
\newpage
\begin{samepage}
    \subsection*{3. Emergency PIN Test}
    \subparagraph{Test Goals and Purpose}
    \begin{itemize}
        \item Verify that a designated emergency PIN can override an active lockout state.
        \item Ensure that using the emergency PIN resets lockout counters and restores normal operation.
        \item Confirm the system logs the emergency unlock event.
    \end{itemize}
    \subparagraph{How We Test It}
    \begin{itemize}
        \item Trigger a lockout by intentionally inputting three incorrect PIN entries.
        \item Confirm after each incorrect PIN attempt (\texttt{LOCK\_STATE} = 1).
        \item Immediately enter the emergency PIN once the lockout state is active.
        \item Observe the lock mechanism (it should retract).
        \item Monitor Postgres to verify an EMERGENCY\_UNLOCK entry is created.
        \item Owner's phone should be notified and the mobile application should display that the emergency PIN was used.
        \item In Postgres, confirm that \texttt{LOCKOUT\_COUNT} resets to 0 and \texttt{LOCK\_STATE} becomes 1.
    \end{itemize}
    \subparagraph{Expectations of Test}
    \begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Door unlocks immediately upon entering the emergency PIN.
          \item \texttt{LOCKOUT\_COUNT} is reset to 0 and \texttt{LOCK\_STATE = 1} in Postgres.
          \item Mobile app shows “Emergency unlock used” notification within 5 s.
          \item Postgres contains a new \texttt{EMERGENCY\_UNLOCK} event entry. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
    \end{center}
    
    \vspace{0.5em}
    
    \noindent\textbf{Reset after the test:}  
    Re-lock the door with a valid standard PIN to prepare for the next test.\\
    
\end{samepage}



\subsection*{4. One Time Pin Entry Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Confirm that an app-generated one-time password (OTP) grants access as expected.
    \item Ensure the OTP mechanism is time-bound and secure against reuse.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Request a 5-minute valid OTP from the app.
    \item Enter the OTP using the keypad.
    \item Monitor the system and database for changes.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Valid OTPs allow immediate unlock
          \item \texttt{LOCK\_STATE = 1} in Postgres.
          \item Door automatically locks itself after 10 s
          \item Mobile app shows "OTP unlock used” notification within 5 s.
          \item Postgres captures the OTP with a clear expiry time.
          \item Expired or incorrect OTPs are properly rejected with no unlock attempt. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
    \end{center}

\newpage
\begin{samepage}
\subsection*{5. OTP Expiry Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure expired OTPs don’t grant access, even if they were once valid.
    \item Confirm that users are informed clearly when an OTP is no longer usable.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Generate an OTP and wait for the full 5-minute window to pass.
    \item Attempt to use the expired code via the keypad.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock remains unchanged and secure—no movement or unlock occurs.
          \item Postgres logs the expired OTP attempt explicitly.
          \item App and/or interface display an "OTP expired" notification. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
    \end{center}
    \end{samepage}

\newpage
\subsection*{6. Rapid Wrong PIN Alarm Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure multiple fast wrong PIN entries trigger audible alarm.
    \item Verify lock does not unlock after wrong entries.
    \item Check alarm stops after timeout or correct PIN.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Enter 5 wrong PINs within 10s.
    \item Observe alarm sound and LOCK\_STATE remains 0.
    \item Attempt correct PIN after alarm to confirm reset.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Alarm beeps continuously for spec duration (e.g., 30s).
          \item Bolt remains locked (LOCK\_STATE = 0).
          \item Postgres logs each failed attempt and alarm event.
          \item Correct PIN after alarm silences alarm and unlocks door. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
    \end{center}

\newpage
\subsection*{7. Concurrent Unlock Command Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify two family phones sending unlock at once doesn't confuse the system.
    \item Ensure only one actuation happens.
    \item Confirm both requests are logged.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item From two phones, send unlock API calls within 100 ms.
    \item Watch bolt movement and LOCK\_STATE.
    \item Check Postgres for two event entries.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Bolt retracts only once.
          \item LOCK\_STATE = 1 after first command.
          \item Both commands logged with timestamps.
          \item No errors or retries triggered. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
    \end{center}

% ---------------------------- Test 8 --------------------------------

\newpage
\begin{samepage}
\subsection*{8. Offline Fallback PIN Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that the lock accepts a locally cached valid PIN when Wi-Fi is unavailable.
    \item Ensure the lock unlocks immediately (no network delay) using the onboard PIN list.
    \item Confirm that, once Wi-Fi returns, the locally recorded event syncs up to Postgres with an “offline” flag.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Disable Wi-Fi on the ESP32 module.
    \item Enter a valid PIN on the keypad. The bolt should retract instantly.
    \item Re-enable Wi-Fi, then check Postgres:
    \begin{itemize}
        \item A new unlock event appears, marked with “offline”: true.
        \item \texttt{LOCK\_STATE} becomes 1 in the cloud.
    \end{itemize}
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Lock opens locally when Wi-Fi is off, and \texttt{LOCK\_STATE} stays 1 locally.
      \item Upon Wi-Fi restoration, Postgres shows an “OFFLINE\_UNLOCK” event and \texttt{LOCK\_STATE = 1}.
      \item No undue delay is observed by the user during offline use.\\
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Any PASS condition is missing: either the lock doesn’t open offline, or the cloud log never syncs. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}

% ---------------------------- Test 9 --------------------------------
\newpage
\begin{samepage}
\subsection*{9. Low-Battery Notification Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that when the lock’s internal battery drops below 10\%, the system issues a clear low-battery alert.
    \item Ensure that at low battery ( \(\ge 5\%\) but $<10\%$), normal electronic unlocking still functions without interruption.
    \item Confirm that the alert persists on the mobile app and/or keypad display until the battery is above 20\%.
    \item Check that a “LOW\_BATTERY” event, with the correct battery percentage, is logged in Postgres.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Gradually drain the lock’s battery until the charge indicator reads 9\% (or the system automatically reports “Battery below 10\%”).
    \item Attempt to unlock the door using a valid PIN. Observe that the bolt still retracts normally.
    \item Open the mobile app (or check the keypad display) to verify that a “Low Battery” warning is shown.
    \item In Postgres (or your logging dashboard), confirm that:
    \begin{itemize}
        \item A “LOW\_BATTERY” event appears, showing battery level = 9\% (or whatever the actual percentage is when the alert triggered).
        \item \texttt{LOCK\_STATE} changes to 1 when you entered the valid PIN.
    \end{itemize}
    \item Keep operating the lock for multiple cycles (lock/unlock) at low battery to ensure no intermittent failures occur.
    \item Charge the battery above 20\% (either remove and swap batteries or use a charger). Verify that the “Low Battery” warning clears from the app and keypad.
\end{itemize}
\end{samepage}


\newpage

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item When the battery reaches 9\%, the system immediately displays a “Low Battery” warning on the app/keypad.
      \item Valid PIN entries at 9\% all cause the bolt to retract (i.e., \texttt{LOCK\_STATE = 1}).
      \item Postgres logs a “LOW\_BATTERY” event with the correct battery percentage.
      \item The “Low Battery” alert remains active until the battery charge is above 20\%.
      \item After charging above 20\%, the warning disappears from both the app and keypad.\\
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Any of the following occurs:
    \begin{itemize}
      \item No “Low Battery” warning appears when battery $<10\%$.  
      \item Lock fails to unlock with a valid PIN at 9\% battery.  
      \item Postgres does not record a “LOW\_BATTERY” event or records an incorrect percentage.  
      \item Warning does not clear after charging above 20\%.  
    \end{itemize} \\
  \hline
\end{tabular}
\end{center}


% ---------------------------- Test 10 --------------------------------
\newpage
\subsection*{10. Battery Fully Drained Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that when the battery is completely drained (0\%), the electronic unlocking mechanism fails to actuate.
    \item Ensure the system logs a “Battery Depleted” error event in Postgres.
    \item Confirm that the physical key override still functions to unlock the door.
    \item Check that the mobile app displays a clear “Replace Battery” notification.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Allow the lock’s battery to discharge down to 0\% (watch the low‐battery indicator until it reads “0\%” or shuts off).
    \item At the keypad, enter a valid 4-digit PIN. Observe that the bolt does not move and the door remains locked.
    \item Open the mobile app (or check the keypad display) to verify a “Replace Battery” warning appears.
    \item In Postgres, confirm that:
    \begin{itemize}
        \item A “BATTERY\_DEPLETED” event is logged with timestamp and battery level = 0\%.  
        \item \texttt{LOCK\_STATE} remains 0 (locked).  
    \end{itemize}
    \item Insert and turn the physical key override; verify that the door unlocks mechanically.
    \item After replacing or recharging the battery above 20\%, attempt a valid PIN entry to confirm normal electronic operation resumes and logs a “POWER\_RESTORED” event.
\end{itemize}
\newpage
\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Entering a valid PIN at 0\% battery does not retract the bolt—\texttt{LOCK\_STATE} remains 0.
      \item Postgres logs a “BATTERY\_DEPLETED” event with battery = 0\%.
      \item The mobile app (or keypad) shows “Replace Battery.”
      \item Physical key override unlocks the door mechanically despite dead electronics.
      \item After battery replacement/recharge above 20\%, entering a valid PIN retracts the bolt, and Postgres logs “POWER\_RESTORED” with battery \(>\) 20\%.\\
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Any of the following occurs:
    \begin{itemize}
      \item Door unlocks electronically at 0\% battery.  
      \item Postgres does not record a “BATTERY\_DEPLETED” event or logs an incorrect battery level.  
      \item No “Replace Battery” warning appears on the app/keypad.  
      \item Physical key override fails to unlock at 0\%.  
      \item After recharging above 20\%, the electronic PIN entry still fails or logs no “POWER\_RESTORED” event.  
    \end{itemize} \\
  \hline
\end{tabular}
\end{center}

\newpage
\begin{samepage}
\subsection*{11. Multi-User Simultaneous Access Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that if two people try to unlock at the same time (like one on app and one on keypad), the system only unlocks once and logs both attempts.
    \item Prevent confusion or mechanical issues from double actuation.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Have one person unlock via app and another enter a PIN on keypad simultaneously (within 1-2 seconds).
    \item Observe lock's behavior: does it unlock once cleanly?
    \item Check system logs for both events.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Lock only actuates once to unlock.
      \item System logs show both events with no errors.
      \item No repeated unlocking or stuck bolt motion.\\
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Lock unlocks twice or logs errors when two users act at the same time. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}

\newpage
\subsection*{12. Mid-Unlock Reboot Recovery Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that the smart lock can recover from an unexpected reboot during the unlock cycle.
    \item Ensure no mechanical or software errors occur due to mid-cycle interruption.
    \item Confirm that the system safely resumes to a consistent and correct lock state.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Initiate an unlock operation by entering a valid PIN or triggering via Postgres.
    \item While the lock bolt is actuating (in motion), manually reboot the ESP32 (e.g., press reset button).
    \item After reboot, observe the behavior of the lock and system logs.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Device reboots without hardware fault.
          \item Lock resumes to the correct and safe final position (locked or unlocked).
          \item State in Postgres is updated accurately post-recovery.
          \item System logs include a reboot event and status report.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}

\newpage
\subsection*{13. Duplicate Cloud Command Handling Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the smart lock ignores repeated unlock commands with the same intent.
    \item Prevent mechanical wear or electrical issues from unnecessary double-actuation.
    \item Confirm that the system properly logs and handles duplicate commands.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Send an unlock command via Postgres with a known state change (e.g., `isLocked: false`).
    \item Observe that the lock successfully unlocks on first command.
    \item Without changing the command value (keep `isLocked: false`), trigger a second Postgres write with the same content.
    \item Monitor system behavior, actuator activity, and system logs.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock actuates only once for the initial command.
          \item Second duplicate message is ignored safely.
          \item System logs indicate duplicate command was received and skipped.
          \item No mechanical movement or audible actuation occurs on duplicate.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}

\newpage
\begin{samepage}
\subsection*{14. Installation on Different Standard Doors Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Make sure the lock can be easily installed on different common door types.
    \item Check that the lock works well on both wood and metal doors of standard sizes.
    \item Confirm that the lock stays secure and works normally after installation.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Pick three types of doors (e.g., solid wood, metal, composite) with standard thickness (e.g., 1.75 inches).
    \item Follow the installation instructions to attach the lock to each door.
    \item Test if the lock works (lock/unlock) after installation on each door type.
    \item Look for gaps, loose fittings, or any mechanical issues.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Lock installs securely on all tested door types.
      \item Lock and unlock functions work without sticking or misalignment.
      \item No gaps, wobbles, or looseness in the lock after installation.
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Any one of the PASS conditions is missing or if the lock cannot be securely mounted. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}



\newpage
\subsection*{15. Physical Key Override While Powered Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the lock can be manually overridden with a physical key even when the electronic system is powered.
    \item Confirm that the system detects the physical override and updates its internal state accordingly.
    \item Prevent any mechanical or electrical conflicts between the solenoid and manual actuation.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Power on the smart lock system normally.
    \item Use the physical key to manually unlock or lock the door.
    \item Observe system behavior (e.g., sensors, logs, Postgres sync).
    \item Attempt an electronic command (lock/unlock) immediately afterward to verify proper system alignment.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Manual override is mechanically smooth and does not interfere with solenoid.
          \item System detects state change via sensor (e.g., magnetic or position feedback).
          \item Postgres and app update to reflect new lock state.
          \item Subsequent electronic commands work normally without misalignment.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}

\newpage
\begin{samepage}
\subsection*{16. Hall-Sensor Noise Rejection Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that the system correctly interprets magnetic sensor signals despite electrical noise or transient spikes.
    \item Prevent false positives (e.g., reporting "locked" when bolt hasn't reached the lock position).
    \item Ensure the lock status reported to the app and Postgres is accurate and trustworthy.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Simulate magnetic noise or signal fluctuations near the Hall-effect sensor using a signal generator or nearby magnet source.
    \item Observe whether the system falsely detects a "locked" or "unlocked" state.
    \item Compare physical bolt position with system status shown in Postgres and app.
    \item Repeat under normal operation and edge cases (e.g., during solenoid movement).
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item System does not falsely report "locked" or "unlocked" due to magnetic interference.
          \item Lock state in Postgres matches actual bolt position.
          \item App accurately reflects the physical lock status.
          \item Optional: Sensor readings are filtered or debounced in software to ignore noise. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}

\newpage
\begin{samepage}
\subsection*{17. ESP to Solenoid Relay Stress Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that repeated relay switching by the ESP32 doesn’t cause damage or misfires.
    \item Ensure the relay coil and driver can handle frequent switching.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Command the ESP32 to toggle the solenoid relay 500 times rapidly (like 1 Hz or faster).
    \item Watch for stuck relay, missed commands, or system resets.
    \item Confirm the lock still functions normally after the stress test.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Relay toggles correctly every time.
      \item No sticking or missed commands.
      \item Lock responds normally to unlock/lock commands after the test.
      \item No heating or damage to relay or ESP32 driver pins.\\
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Relay fails to toggle, sticks, or lock fails after test due to hardware damage. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}


\newpage
\begin{samepage}
\subsection*{18. Break Lock Casing by Hand Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Check if the lock casing can withstand someone trying to break it by hand.
    \item Make sure the casing protects the lock’s inner parts and doesn’t break easily.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Try to pull, bend, or twist the lock casing with normal hand strength.
    \item Use only hands—no tools or extra force.
    \item Check for cracks, breaks, or anything that makes the lock easier to tamper with.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Casing stays solid and does not crack or break.
      \item Lock keeps working as normal after the test.
      \item No gaps or looseness appear in the casing.
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Casing cracks, bends out of shape, or the lock stops working right after the test. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}

\newpage
\subsection*{19. High Temperature Operation Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify the smart lock’s ability to operate correctly when internal temperature exceeds 80 °C.
    \item Ensure system stability, sensor accuracy, and safe operation under elevated temperature conditions.
    \item Identify any thermal shutdown, degradation, or failure modes.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Place the smart lock in an environmental chamber or attic-like setup where temperature can be controlled.
    \item Gradually increase ambient temperature to exceed 80 °C inside the lock enclosure.
    \item Monitor system behavior, including lock/unlock commands, sensor readings, and logs.
    \item Record any faults, error messages, or abnormal operation.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock operates normally without unexpected resets or malfunctions.
          \item Temperature sensor accurately reports temperature exceeding 80 °C.
          \item System logs thermal condition and, if applicable, triggers thermal protection or warnings.
          \item No permanent damage or degradation to components.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}


\newpage
\begin{samepage}
\subsection*{20. Low Temperature Operation Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify the smart lock operates correctly at low temperatures down to -10 °C.
    \item Ensure mechanical components (solenoid, bolt, physical key) function without freezing or sticking.
    \item Confirm electronic components, sensors, and battery performance remain stable.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Place the smart lock in a controlled environmental chamber set to -10 °C.
    \item Perform locking and unlocking operations electronically and via physical key.
    \item Monitor system responsiveness, sensor readings, battery voltage, and any error logs.
    \item Repeat test cycles to simulate typical usage during cold conditions.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock and unlock commands execute successfully without delay or mechanical failure.
          \item Sensors and electronic systems operate within specified parameters.
          \item Battery performance supports normal operation at low temperature.
          \item No freezing, sticking, or damage to mechanical components.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}



\newpage
\subsection*{21. High Humidity and Condensation Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify the smart lock’s PCB and electronics withstand prolonged exposure to high humidity and condensation.
    \item Ensure no corrosion, shorts, or malfunctions occur due to moisture.
    \item Confirm system stability and proper operation during and after moisture exposure.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Place the smart lock inside a humidity chamber set to high relative humidity (e.g., 90\% RH) at ambient temperature.
    \item Introduce temperature cycling to induce condensation on PCB surfaces.
    \item Operate the lock during and after exposure to monitor functionality.
    \item Inspect PCB visually for corrosion or moisture damage.
    \item Perform electrical continuity and insulation resistance tests post-exposure.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Smart lock operates normally during and after humidity exposure.
          \item No electrical shorts or intermittent failures occur.
          \item No visible corrosion or damage on PCB or components.
          \item Insulation resistance and continuity tests remain within specifications.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}


\newpage
\subsection*{22. GPIO Pin Short to Ground Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify system behavior and fault tolerance when a GPIO pin connected to the LED circuit is shorted to ground.
    \item Ensure no permanent damage occurs to the ESP32 or associated circuitry.
    \item Confirm the system continues normal operation despite LED failure.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Intentionally short the GPIO pin controlling the LED to ground.
    \item Power the system and observe behavior of the LED circuit and overall system.
    \item Monitor for signs of damage such as overheating, crashes, or erratic behavior.
    \item Check system logs and responses to LED control commands.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item No damage to the ESP32 or LED circuitry.
          \item System continues to operate normally without resets or faults.
          \item LED fails to light as expected due to the short.
          \item System logs indicate LED malfunction or fault if applicable.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}


\newpage
\subsection*{23. OTA Firmware Update Success Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Confirm that the OTA firmware update process completes successfully on the first attempt.
    \item Ensure the smart lock remains operational and stable during and after the update.
    \item Verify that the new firmware version is correctly installed and running.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Initiate an OTA firmware update with a known stable firmware build.
    \item Monitor the update progress for any errors or interruptions.
    \item After completion, verify the firmware version and system functionality.
    \item Perform standard lock/unlock operations to confirm normal behavior.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item OTA update completes without errors or retries.
          \item Smart lock boots into new firmware version successfully.
          \item Normal operation resumes immediately after update.
          \item No data loss or configuration resets occur.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}

\newpage
\begin{samepage}
\subsection*{24. Data Logging Consistency Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Make sure every unlock and lock event is properly recorded in the logs or Postgres.
    \item Check for missing or duplicated log entries.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Perform 10 unlock/lock cycles in a row.
    \item Use a valid PIN for each cycle.
    \item Use invalid PINs to test rejection.
    \item Compare physical lock state changes to the logs in Postgres.
    \item Check timestamps and event types.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Every physical event has a matching log entry.
      \item No duplicated or missing log entries.
      \item Timestamps align with real-world event timing.
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Logs are missing events, have duplicates, or show wrong timestamps. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}



\newpage
\begin{samepage}

\subsection*{25. API Rate Limiting and HTTP 429 Handling Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify the system correctly handles HTTP 429 (Too Many Requests) responses from the cloud API.
    \item Ensure the smart lock firmware gracefully responds to rate limiting without crashing or excessive retries.
    \item Confirm that the system backs off and retries after appropriate delay.
    \item Prevent denial of service or degraded performance due to API flooding.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Simulate flooding the API with a high volume of status poll requests from the homeowner’s app or device.
    \item Monitor cloud API to confirm it returns HTTP 429 responses when rate limit exceeded.
    \item Observe smart lock’s firmware handling of HTTP 429 errors.
    \item Verify backoff and retry logic in firmware triggers correctly.
    \item Check logs for proper error handling and user notifications if applicable.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Smart lock detects HTTP 429 responses and throttles request rate accordingly.
          \item Firmware implements exponential backoff or delay before retrying.
          \item System maintains stability without crashes or excessive resource use.
          \item Logs reflect rate limiting events and retry attempts.
          \item User experience remains smooth with appropriate notifications if needed.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}



\newpage
\begin{samepage}

\subsection*{26. SSL Certificate Expiration Handling Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Verify that the smart lock firmware correctly detects and handles HTTPS connection failures due to an expired SSL certificate.
    \item Ensure the device does not connect to an insecure or unverified server.
    \item Confirm the system logs the certificate error and avoids attempting unsafe retries.
    \item Protect against man-in-the-middle (MITM) attacks due to expired or invalid SSL credentials.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Deploy a test cloud server with an expired SSL certificate.
    \item Configure the smart lock to connect to this server via HTTPS.
    \item Observe the connection attempt and firmware response.
    \item Monitor log output, retry logic, and whether any unsafe fallback behavior occurs.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Smart lock rejects the connection due to SSL expiration.
          \item Connection attempt fails securely with no data transmitted.
          \item Logs clearly indicate certificate expiration or validation error.
          \item Firmware does not retry continuously or bypass security checks.
          \item Optional: User is notified of the connectivity issue.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


\newpage
\begin{samepage}
\subsection*{27. JWT Expiration and Cloud Authentication Rejection Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure the smart lock properly handles expired JWT tokens used for cloud authentication.
    \item Confirm that cloud services reject expired tokens and deny command execution.
    \item Verify that the firmware identifies the expired token and requests a valid replacement.
    \item Prevent unauthorized or unintended command execution with stale credentials.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Allow the JWT token to expire naturally or use a deliberately expired token.
    \item Attempt to send a command (e.g., unlock or status update) to the cloud using the expired token.
    \item Observe the response from the cloud (e.g., HTTP 401 Unauthorized).
    \item Check the smart lock’s behavior for error handling, re-authentication attempts, and retry logic.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Cloud rejects commands using the expired JWT with an appropriate error.
          \item Firmware identifies the expired token and requests a new one.
          \item Token renewal succeeds and command is retried with valid credentials.
          \item No unauthorized access or unintended behavior occurs.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}

\newpage
\begin{samepage}
\subsection*{28. App Command Rejection for Wrong Lock State Test}

\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the lock does not try to unlock if already unlocked, or lock again if already locked.
    \item Prevent wasted power and mechanical wear from unnecessary commands.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Manually set the lock to the unlocked state.
    \item From the app, send an unlock command while it’s already unlocked.
    \item Observe lock behavior and check logs.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
\begin{tabular}{|c|p{10cm}|}
  \hline
  \textbf{Result} & \textbf{Conditions} \\
  \hline
  \textbf{PASS} &
    \begin{minipage}[t]{\linewidth}
    \begin{itemize}
      \item Lock ignores duplicate commands for the current state.
      \item No duplicate mechanical actuation happens.
      \item Logs show the duplicate command was rejected safely.\\
    \end{itemize}
    \end{minipage} \\
  \hline
  \textbf{FAIL} & Lock tries to unlock again, wasting power or causing errors. \\
  \hline
\end{tabular}
\end{center}
\end{samepage}


\newpage
\begin{samepage}

\subsection*{29. Flash Storage Full During OTA Update Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the smart lock correctly handles a full flash partition when attempting to download a new OTA firmware image.
    \item Prevent partial or corrupted firmware installs due to insufficient storage.
    \item Confirm that the system preserves the current working firmware without entering an unstable state.
    \item Provide user/system feedback about the failure and recovery options.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Fill the OTA or update-designated flash partition with dummy data until it is full.
    \item Initiate an OTA firmware update.
    \item Monitor the download process, system logs, and error handling behavior.
    \item Observe whether the current firmware remains operational and the device remains in a known-safe state.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item OTA image download fails cleanly due to lack of space.
          \item System logs indicate "insufficient storage" or related error.
          \item Current firmware remains untouched and fully functional.
          \item No reboot, crash, or undefined behavior occurs.
          \item Optional: User/app is notified of the failed update and reason.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


\newpage
\subsection*{30. MQTT Message Checksum Error Handling Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure the smart lock firmware verifies the integrity of received MQTT messages.
    \item Confirm that messages with invalid checksums are rejected and not processed.
    \item Prevent unauthorized or malformed data from causing undesired system behavior.
    \item Maintain communication security and device stability.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Simulate an MQTT message with an intentionally altered payload or corrupted checksum.
    \item Send the malformed message to the smart lock via its subscribed MQTT topic.
    \item Monitor whether the message is ignored or improperly processed.
    \item Check logs or debug output for validation failures or dropped-message indicators.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Message is dropped without triggering any action.
          \item Log entry or internal handler flags checksum mismatch.
          \item Device state remains unchanged and stable.
          \item No crash, hang, or unintended execution occurs.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}

% End for Common Scenarios (Tests 1 - 30)

\newpage
\subsubsection{Less Common Scenarios Tests}

\begin{samepage}
\subsection*{31. Magnetic interference from magnets false lock state.}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Test the impact of magnetic interference from magnets on the lock's functionality.
    \item Observe behavior if when locking and unlocking when magnets are nearby lock.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Test unlock and lock function on app with magnets nearby.
    \item Test pin functionality with magnets present.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock and unlock commands execute successfully without delay or mechanical failure.
          \item Magnets do not cause the lock to false report "locked" or "unlocked" due to magnetic interference.
          \item Device state remains unchanged and stable.
          \item No crash, hang, or unintended execution occurs.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


\newpage
\begin{samepage}
\subsection*{32. Time-zone Mismatch Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that timing-sensitive operations work properly despite device time mismatches.
    \item Verify that scheduled actions and OTPs remain aligned regardless of local time zones.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Set the phone to Pacific Time and the lock to Mountain, Eastern, etc. time.
    \item Generate and use an OTP, and observe if the mismatch causes issues.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Pin verification succeeds regardless of time zone.
          \item Scheduled actions and OTPs remain aligned with their intended times.
          \item OTP pins during designated times work at lock's local time zone\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}





\newpage
\begin{samepage}
\subsection*{33. Daylight Savings Transition Auto-lock Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Confirm that daylight saving time transitions don't disrupt automated locking.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Schedule an auto-lock event for 2:00 AM on the day of the DST shift.
    \item Observe actual lock behavior before, during, and after the transition.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item The auto-lock event triggers at the correct local time, accounting for the DST shift.
          \item No skipped or duplicated scheduling happens.
          \item The lock state reflects the correct time after the transition.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Lock unlocks at wrong time after daylight savings time transition. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


\newpage
\begin{samepage}
\subsection*{34. Admin vs. Guest Role Change Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Validate that role-based access control takes effect immediately after role changes.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Change a user's role (e.g., from guest to admin) directly in Postgres.
    \item Attempt access under both roles shortly after the change.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item The new role is honored without requiring system restart or delay.
          \item Access permissions align with the updated role instantly.
          \item Admins can perform all actions, while guests are restricted as expected.
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


\newpage
\begin{samepage} 
\subsection*{35. BLE Range Boundary Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Determine the Bluetooth WiFi setup behavior at different physical distances.
\end{itemize}
\subparagraph{How We Test It}
\begin{itemize}
    \item Start trying to give the lock WiFi credentials at a 6-meter distance.
    \item Measure at what point is lock able to receive the credentials.
\end{itemize}
\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock successfully receives WiFi credentials only within the expected 1 meter BLE range.
          \item BLE connection is stable and reliable within the expected range.
          \item Lock is able to connect to WiFi successfully and only when in range.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or incorrect. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}



\newpage
\subsection*{36. Almost-Synchronous App and Keypad Usage Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the lock correctly handles an almost-synchronous hlock/unlock from the keypad and app.
    \item Confirm that the lock understands what state it should be in after the inputs.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Enter a valid code into the keypad and lock/unlock on the mobile app within the same half-second period .
    \item Observe the state of the lock after both the inputs.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} & 
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item The first input within the half-second takes precedence.
          \item The correct lock-state is reflected both in the app and on the physical lock.
          \item Postgres and app reflect the final consistent state without falling into an ambiguous or unresponsive state. \\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}



% 37. Reusing Emergency PIN Test

\newpage
\begin{samepage}
\subsection*{37. Reusing Emergency PIN Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that Emergency PINs are unusable after being utilized by the homeowner once.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item Utilize a valid emergency PIN from the generated list.
    \item Try to use the same PIN again after previous usage.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item PIN is removed and declared ineligible after one-usage.
          \item Reusing the PIN flashes to the user that the PIN is invalid.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


% 38

\newpage
\begin{samepage}
\subsection*{38. App Reconnect After Airplane Mode Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that a user connecting to airplane mode and off airplane mode retains their connectivity to the app.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item User has app open and turns on airplane mode.
    \item User waits a minute, then disconnects from airplane mode.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item App connects back to the database with correct data.
          \item App continues to function as expected after phone has regained connection.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}

% 39

\newpage
\begin{samepage}
\subsection*{39. Generating Identical OTP and Emergency PINs Test.}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the app won't generate two PINs simultaneously that are identical at the same time.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item User generates a OTP PIN from the OTP list.
    \item User then generates Emergency PINs until one matches/doesn't match the OTP PIN.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item No emergency PIN matches no OTP PIN.
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


% 40

\newpage
\begin{samepage}
\subsection*{40. Fresh PIN Usage Test}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the lock accepts valid PINs within seconds after creation.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item User generates a PIN of either kind.
    \item User then quickly within 1 to 2 seconds uses the PIN on the keypad.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Keypad unlocks given the fresh PIN input.
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}


% 41

\newpage
\begin{samepage}
\subsection*{41. PIN Deletion During Keypad Usage Test.}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the lock does not accept a PIN after it has been deleted while the user is in the middle of entering a code on the keypad.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item User generates an OTP Pin.
    \item User then swipes to delete the PIN while actively typing it on the keypad.
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock fails to unlock via the keypad when entering a PIN that was deleted while in the action of entering into the keypad.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}

% 42

\newpage
\begin{samepage}
\subsection*{42. Lock Already Unlocked and Emergency PIN Used.}
\subparagraph{Test Goals and Purpose}
\begin{itemize}
    \item Ensure that the lock does not exhibit any unintended behaviors like re-locking when already unlocked and an emergency PIN is then used.
\end{itemize}

\subparagraph{How We Test It}
\begin{itemize}
    \item User ensures that the lock is in the unlocked state via the mobile app.
    \item User then uses an emergency PIN from their account list..
\end{itemize}

\subparagraph{Expectations of Test}
\begin{center}
    \begin{tabular}{|c|p{10cm}|}
      \hline
      \textbf{Result} & \textbf{Conditions} \\
      \hline
      \textbf{PASS} &
        \begin{minipage}[t]{\linewidth}
        \begin{itemize}
          \item Lock remains in the same unlocked state without any ambiguous states after using emergency PIN on already unlocked door.\\
        \end{itemize}
        \end{minipage} \\
      \hline
      \textbf{FAIL} & Any one of the PASS conditions is missing or correct. \\
      \hline
    \end{tabular}
\end{center}
\end{samepage}

\input{43_and_beyond.tex}


\input{Rare_Scenarios.tex}

